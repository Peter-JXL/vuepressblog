---
title: 实验25 动态主机配置协议DHCP的作用
date: 2022-10-22 18:01:52
permalink: /Network/lab25-DHCP/
categories:
  - 计算机基础
  - 计算机网络
  - 计算机网络微课堂-实验手册
tags:
  - 
feed:
  enable: true
description: 下面我们来进行一个仿真实验，本仿真实验的目的在于验证动态主机配置协议 DHCP 的作用。
---



# 250.实验25：动态主机配置协议DHCP的作用

下面我们来进行一个仿真实验，本仿真实验的目的在于验证动态主机配置协议 DHCP 的作用。

<!-- more -->

我已经在软件中构建好了我们理论课中所使用的那个例子，并在各设备旁边标注出了所需的配置信息，我们的应用需求是不给局域网中的各主机手动配置 IP 地址，子网掩码、默认网关、DNS 服务器等信息，而是开启他们的动态主机配置协议 DHCP，让他们通过 DHCP 来自动获取这些信息，进而可以通过域名来访问另一个网络中的 WEB 服务器。

为了实现上述功能，在主机所在的局域网中需要一台 DNS 服务器，他负责将 WEB 服务器的域名 www.dhcptest.com 解析为对应的 IP 地址 192.168.1.1，还需要一台 DHCP 服务器，他负责给局域网中的各主机配置 IP 地址、子网掩码、默认网关、DNS 服务器等信息：

​![](https://image.peterjxl.com/blog/image-20220109161728-t7lshel.png)​

---

下面我们对网络中的各设备进行配置，首先来配置 WEB 服务器，点击该服务器，在弹出窗口中选择桌面选项卡，然后选择 IP 配置，请注意这里我们选择静态，也就是我们要人为配置该 WEB 服务器的 IP 地址，子网掩码，默认网关的信息，而不是通过 DHCP 来自动获取，输入 IP 地址 192.168.1.1，默认的子网掩码即可

输入默认网关的 IP 地址，也就是路由器接口一的 IP 地址，192.168.1.254，对 WEB 服务器的配置完成：

​![](https://image.peterjxl.com/blog/image-20220109161715-lvvonnz.png)​

下面我们给路由器各接口配置 IP 地址和子网掩码，点击该路由器在弹出窗口中选择配置选项卡，然后在接口列表中选择要配置的接口。先给接口 0 配置，IP 地址 192.168.0.254，默认子网掩码即可。请注意不要忘记在这里打开端口。

再来给接口 1 配置，输入 IP 地址 192.168.1.254，默认子网掩码即可。请注意不要忘记在这里打开端口，对路由器的配置工作就完成了。

​![](https://image.peterjxl.com/blog/image-20220109161802-jamroqp.png)​

下面我们给 DNS 服务器配置 IP 地址，子网掩码以及所要解析的内容，点击该 DNS 服务器，在弹出窗口中选择桌面选项卡，然后选择 IP 配置，请注意这里我们选择静态，也就是我们要人为配置该 DNS 服务器的 IP 地址子网掩码，而不是通过 DHCP 来自动获取，输入 IP 地址 192.168.0.253，默认的子网掩码即可。

选择服务选项卡，在服务列表中选择 DNS，在这里输入要解析的域名，也就是 WEB 服务器的域名，www.dhcptest.com
在这里输入对应的 IP 地址，也就是 WEB 服务器的 IP 地址 192.168.1.1，点击添加按钮，给 DNS 服务器添加这条记录请注意，不要忘记点击这里来打开 DNS 服务，对 DNS 服务器的配置工作就完成了：

​![](https://image.peterjxl.com/blog/image-20220109162032-9diygr9.png)​

下面我们对 DHCP 服务器进行配置，点击 DHCP 服务器在弹出窗口中选择桌面选项卡，然后选择 IP 配置。请注意这里我们选择静态，也就是我们要人为配置该 DHCP 服务器的 IP 地址，子网掩码，而不是通过 DHCP 来自动获取，输入 IP 地址 192.168.0.252，默认子网掩码即可：

​![](https://image.peterjxl.com/blog/image-20220109162118-5qayohu.png)​

选择服务选项卡，在服务列表中选择 DHCP，接下来需要设置 DHCP 服务器和给各主机动态配置的信息，默认网关的 IP 地址填入路由器接口 0 的 IP 地址，192.168.0.254，DNS 服务器的 IP 地址填入该 DNS 服务器的 IP 地址 192.168.0.253，其他配置信息保持默认即可：

​![](https://image.peterjxl.com/blog/image-20220109162204-frkjmb4.png)​

请注意不要忘记点击保存按钮来保存我们所输入的配置信息，并且还要点击这里来打开 DHCP 服务，对 DH CP 服务器的配置工作就要完成了。

下面我们来开启这台主机中的 DHCP，点击该主机在弹出窗口中选择桌面选项卡，然后选择 IP 配置，这里我们选择 DHCP，主机会通过 DHCP 来自动获取 IP 地址，子网掩码、默认网关 DNS 服务器的 IP 地址，当主机获取到这些 IP 地址后，我们就可以通过主机中的浏览器来访问 WEB 服务器了：

​![](https://image.peterjxl.com/blog/image-20220109162237-g3rgqfi.png)​

关闭 IP 配置窗口，点击这里的网页浏览器，可以看到仿真软件启动了一个简易的浏览器，在浏览器的地址栏中输入域名 www.dhcptest.com，然后点击这里的前往按钮，可以看到获取到了 WEB 服务器中提供的网页内容，如果您没有做出这样的现象，请检查之前各配置步骤是否正确：

​![](https://image.peterjxl.com/blog/image-20220109162256-b3xohfo.png)​

通过本实验，相信您能体会到动态主机配置协议 DHCP 的作用，它提供了一种机制，这种机制允许一台主机加入新的网络，可自动获取 IP 地址等信息，而不用手工指定。实际应用中，一般用户都是通过 DHCP 来获取 IP 地址等信息，而不必人为设定。
