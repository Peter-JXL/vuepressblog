---
title: 4.2 网络层提供的两种服务
date: 2023-11-16 15:51:15
permalink: /Network/network-layer/4.2
categories:
  - 计算机基础
  - 计算机网络
  - 计算机网络微课堂-B站教书匠
tags:
  - 
---

## 4.2 网络层提供的两种服务

　　本节课我们介绍网络层提供的两种服务，一种是面向连接的虚电路服务，另一种是无连接的数据报服务。
<!-- more -->

　　我们首先来看面向连接的蓄电路服务，如图所示，这是一个小型的互联网，这是主机中的5层原理体系结构。  
虚电路服务的核心思想是

* 可靠通信，应由网络自身来保证。
* 当两台计算机进行通信时，应当首先建立网络层的连接，也就是建立一条虚电路VC（Virtual Circuit），也保证通信双方所需的一切网络资源，然后双方就要沿着已建立的虚电路发送分组，需要说明的是虚电路表示这是一条逻辑上的连接，分组都沿着这条逻辑连接，按照存储转发方式传送，而不是真正建立了一条物理连接。
* 而采用电路交换的电话通信，则是先建立一条真正的连接。因此分组交换的虚连接与电路交换的连接只是类似，但并不完全一样。
* 分组的首部仅在连接建立阶段使用完整的目的主机地址，之后每个分组的首部只需携带一条虚电路编号即可。
* 这种通信方式如果在使用可靠传输的网络协议，就可使所发送的分组最终正确到达接收方。
* 通信结束后，需要释放之前所建立的虚电路
* 很多广域分组交换网，都使用这种面向连接的虚电路服务，例如曾经的X.25和逐渐过时的帧中继，异步传输模式等。

　　![](https://image.peterjxl.com/blog/image-20211215203931-6udznks.png)

　　‍

---

　　‍

　　然而因特网的先驱者并没有采用这种设计思路，而是采用了无连接的数据报服务。

　　数据报服务的核心思想是：

* 可靠通信，应当由用户主机来保证。
* 当两台计算机进行通信时，他们的网络层不需要先建立连接，
* 每个分组可走不同的路径。
* 因此分组的首部必须携带目的主机的完整地址，
* 这种通信方式所传送的分组，可能误码、丢失、重复和失序。这些传输差错。我们在之前的课程中已经介绍过了，就不再赘述了。
* 由于网络本身不提供端到端的可靠传输服务，这就使得网络中的路由器可以做到比较简单，比电信网交换机价格低廉，
* 因特网就采用了这种设计思想，将复杂的网络处理功能置于因特网的边缘，也就是用户主机和其内部的运输层，而将相对简单的尽最大努力的分组交付功能，置于因特网核心。

　　采用这种设计思想的好处是网络的造价大大降低，运行方式灵活，能够适应多种应用，因特网能够发展到今日的规模，充分证明了当初采用这种设计思想的正确性。

　　‍

　　将本节课的内容小结如下，需要说明的是由于TCP体系结构的因特网的网系层提供的是简单灵活的无连接的，尽最大努力交付的数据报服务。因此本章主要围绕网际层如何传送IP数据报这个主题进行讨论。

　　![](https://image.peterjxl.com/blog/image-20211215204144-et14wmu.png)

　　‍

　　‍
