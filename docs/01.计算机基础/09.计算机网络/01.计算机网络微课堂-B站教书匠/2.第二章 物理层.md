# 第二章 物理层

　　‍

　　‍

## 2.1 物理层的基本概念

　　在计算机网络中[‍]()​[‍]()用来连接各种网络设备的传输媒体，种类众多，大致可以分为两类，一类是导引型传输媒体，[‍]()​[‍]()另一类是非导引型传输媒体[‍]()​[‍]()

　　在导引型传输媒体中常见的有双绞线，同轴电缆，[‍]()​[‍]()光纤。在非导引型传输媒体中常见的是微波通信，例如使用2.4G赫兹[‍]()​[‍]()和5.8g赫兹频段的WiFi。

　　**计算机网络体系结构中的物理层，‍‍就是要解决在各种传输媒体上传输比特0和1的问题，进而给数据链路层提供透明传输比特流的服务。‍‍所谓透明是指数据链路层看不见，也无需看见物理层究竟使用的是什么方法‍‍来传输比特0和1的，他只管享受物理层提供的比特流传输服务即可。**

　　物理层为了解决在各种传输媒体上传输比特0和1的问题，主要有以下4个任务，[‍]()​[‍]()分别是机械特性、电气特性、功能特性以及过程特性，[‍]()​[‍]()

* 机械特性指明接口所用接线器的形状和尺寸，引脚数目和排列顺序，[‍]()​[‍]()固定和锁定装置。
* 电气特性指明在接口电缆的各条线上，出现的电压的范围，[‍]()​[‍]()
* 功能特性指明某条线上出现的某一电瓶的电压表示何种意义。
* 过程特性[‍]()​[‍]()指明对于不同功能的各种可能事件的出现顺序。[‍]()​[‍]()

　　由于传输媒体的种类众多，例如双脚线、[‍]()​[‍]()光纤等，物理连接方式也很多，例如点对点连接，广播连接等。因此[‍]()​[‍]()物理层协议种类就比较多，每种物理层协议都包含了上述4个任务的具体内容。

　　因此[‍]()​[‍]()在学习物理层时，我们应该将重点放在掌握基本概念上，而不是某个具体的物理层协议。[‍]()​[‍]()通过本节课的学习，同学们应该理解并记住，[‍]()​[‍]()物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流，[‍]()​[‍]()它为数据链路层屏蔽了各种传输媒体的差异，使数据链路层只需要考虑[‍]()​[‍]()如何完成本层的协议和服务，而不必考虑网络具体使用的传输媒体是什么[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211141048-ppyo5wa.png)

　　‍

## #Untitled#2.2 物理层下面的传输媒体

　　请大家注意，传输媒体不属于计算机网络体系结构的任何一层，如果非要将它添加到体系结构中，[‍]()​[‍]()那只能将其放在物理层之下。

　　传输媒体可分为两类，一类是导引型传输媒体，[‍]()​[‍]()另一类是非导引型传输媒体。

　　在导引型传输媒体中，电磁波被导引沿着固体媒体传播，[‍]()​[‍]()常见的导引型传输媒体有同轴电缆，双脚线、[‍]()​[‍]()光纤电力线，

　　而非导引型传输媒体，是指自由空间可使用的电磁波，有无线电波、[‍]()​[‍]()微博、红外线、可见光。[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211141432-cfeih6l.png)

　　‍

　　‍

### 同轴电缆

　　我们首先来看导引型传输媒体，同轴电缆，[‍]()​[‍]()这是一根同轴电缆的示意图，这是内导体铜制芯线，可以是单股实心线或者是多股绞和线，[‍]()​[‍]()这是绝缘层，这是网状编织的外导体屏蔽层，[‍]()​[‍]()这是绝缘保护套层，这是同轴电缆的横切面，可以看出**各层都是共圆心的，‍‍也就是同轴心**的，这就是同轴电缆名称的由来。

　　![image.png](https://image.peterjxl.com/blog/image-20211211141605-0qf15x0.png)

　　‍

　　同轴电缆有两类，[‍]()​[‍]()一类是50欧阻抗的基带同轴电缆，用于数字传输，在早期局域网中广泛使用。

　　另一类[‍]()​[‍]()是75欧阻抗的宽带同轴电缆，用于模拟传输，目前主要用于有线电视的入户线[‍]()​[‍]()

　　铜轴电缆价格较贵，且布线不够灵活和方便。[‍]()​[‍]()随着集线器的出现，在局域网领域双绞线取代了同轴电缆。

　　‍

　　‍

### 双绞线

　　我们来看双绞线，[‍]()​[‍]()这是无屏蔽双脚线电缆的示意图，这是屏蔽双脚线电缆的示意图。

　　![image.png](https://image.peterjxl.com/blog/image-20211211141825-nmd25j5.png)

　　双绞线是最古老也是最常用的传输媒体，把两根互相绝缘的铜导线并排放在一起，然后按照一定规则搅合起来，[‍]()​[‍]()就构成了双绞线。[‍]()​[‍]()例如图中所示的这根无屏蔽双绞线电缆，包含8根通道线，[‍]()​[‍]()每两根搅合成一条双脚线，蓝色线和蓝白双色线[‍]()​[‍]()进行搅和，橙色线和橙白双色线进行搅和，绿色线和绿白双色线进行搅合，[‍]()​[‍]()棕色线和棕白双色线进行搅和。搅和有两个作用，一个是抵御部分来自外界的电磁干扰，[‍]()​[‍]()另一个是减少相邻导线的电磁干扰，

　　屏蔽双绞线电缆比无屏蔽双绞线电缆[‍]()​[‍]()，增加了金属丝编织的屏蔽层，提高了抗电磁干扰的能力。当然了价格也要更贵一些[‍]()

　　这是常用的绞和线的类别，带宽和典型应用。目前家庭局域网主流带宽为1G比特每秒，[‍]()​[‍]()选用大品牌质量好的超5类双绞线电缆可以满足。考虑到未来发展，在经济条件允许的情况下，[‍]()​[‍]()建议选用6a类双脚线电缆，以满足万兆局网的需求。[‍]()​[‍]()

　　‍

　　‍

### 光纤

　　再来看光纤，[‍]()​[‍]()这是一根室外四芯光缆的示意图，这是它的内部结构图。由于光纤非常细，[‍]()​[‍]()因此必须将它做成很结实的光缆，一根光缆少则只有一根光纤，[‍]()​[‍]()多则可包括数十甚至是数百根光纤，[‍]()​[‍]()再加上加强圈和填充物，就可以大大提高机械强度，必要时还可放入远供电源线，[‍]()​[‍]()最后加上包带层和外护套，就可以使抗压强度达到几千克，[‍]()​[‍]()完全可以满足工程施工的强度要求。

　　光纤的纤芯非常细，多模光纤的纤芯直径有50微米和62.5微米，单模光纤的纤芯直径为9微米，而纤芯外面的包层也非常细，[‍]()​[‍]()直径不超过125微米。[‍]()​[‍]()在光纤通信中常用三个波段的中心，[‍]()​[‍]()分别位于0.85微米、1.3微米和1.55微米。

　　光纤有很多优点，[‍]()​[‍]()例如

* 通信容量非常大，传输损耗小，在远距离传输时更加经济[‍]()​[‍]()
* 抗雷电和电磁干扰性能好，这在有大电流脉冲干扰的环境下尤为重要。
* 无串音干扰，保密信号[‍]()​[‍]()不易被窃听，
* 体积小，重量轻，[‍]()​[‍]()例如一公里长的1000段双脚线电缆，约重8000公斤，而同样长度[‍]()​[‍]()但容量大得多的一段两星光缆仅撞100公斤。[‍]()​[‍]()

　　当然了光纤也有自身的缺点，例如[‍]()​[‍]()割接光纤需要专用设备，目前光电接口的价格还比较贵。

　　![image.png](https://image.peterjxl.com/blog/image-20211211142131-3jswefy.png)

　　‍

　　接下来我们来看看[‍]()​[‍]()光在光纤中传输的基本原理，这是纤芯，它是由非常透明的石英玻璃拉成的细丝，[‍]()​[‍]()这是包裹在纤芯外层的包层，它是折射率比光纤低的玻璃封套

　　![image.png](https://image.peterjxl.com/blog/image-20211211143222-9n6894k.png)

　　‍

　　‍

　　在发送端[‍]()​[‍]()可以采用发光二极管或半导体激光器作为光源，在接收端可以采用光电二极管[‍]()​[‍]()或激光检波器检测光脉冲。当光从高折射率的媒体射向低折射率的媒体时，其折射角[‍]()​[‍]()将大于入射角，如图所示。[‍]()​[‍]()因此如果入射角足够大，就会出现全反射，[‍]()​[‍]()也就是光碰到包层时就会反射回纤芯。该过程反复进行，光也就沿着光纤传输下去。

　　![image.png](https://image.peterjxl.com/blog/image-20211211144547-11yzl4q.png)

　　‍

　　‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211144723-47w6pfh.png)

　　‍

　　‍

　　‍

　　‍

　　[‍]()​[‍]()实际上只要从纤芯中射到纤芯表面的光线的入射角，大于某一个临界角度，[‍]()​[‍]()就可产生全反射，因此可以存在许多条不同角度入射的光线，在一条光纤中进行传输。[‍]()​[‍]()这种光纤称为多模光纤。由于光的色散问题，光在多模光纤中传输一定距离后，[‍]()​[‍]()必然产生信号失真，也就是脉冲展宽，[‍]()​[‍]()如图所示，因此多模光纤只适合近距离传输。例如在建筑物内[‍]()​[‍]()，多模光纤对光源的要求不高，可以使用比较便宜的发光二极管，相应的[‍]()​[‍]()可采用光电二极管检测光脉冲

　　![image.png](https://image.peterjxl.com/blog/image-20211211144956-cv4og8w.png)

　　‍

　　‍

　　若光纤的直径减小到只有一个光的波长，[‍]()​[‍]()则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射。[‍]()​[‍]()这样的光纤称为单模光纤，单模光纤没有模式色散，在1.3微米波长附近，[‍]()​[‍]()材料色散和波导色散大小相等，符号相反，两者正好抵消，没有脉冲展宽问题。[‍]()​[‍]()如图所示。单模光纤适合长距离传输，且衰减小，但它的制造成本高，[‍]()​[‍]()对光源要求也高，需要使用昂贵的半导体激光器作为光源，相应的[‍]()​[‍]()需要采用激光剪播器检测光脉冲。

　　![image.png](https://image.peterjxl.com/blog/image-20211211145109-p0zme55.png)

　　‍

　　‍

　　‍

　　‍

### 电力线

　　我们再来看看采用电力线作为传输媒体的情况，[‍]()​[‍]()这并不是什么新技术，早在20世纪20年代初期就出现了。应用电力线传输信号的实例最早是电力线电话。

　　目前如果要构建家庭高性能局域网，采用电力线作为传输媒体，[‍]()​[‍]()是不能满足要求的。

　　对于装修时没有进行网络布线的家庭，可以采用这种方式。[‍]()​[‍]()

　　对于一些采用独立房间进行办公的企业来说，每间办公室的电脑数量不多，[‍]()​[‍]()而又不希望跨办公室进行布线，也可以采取这种方式。

　　每个办公室只需根据需求，[‍]()​[‍]()在电源插座上[‍]()​[‍]()插入一个或多个电力猫即可。

　　‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211145121-fmxkvi9.png)

　　‍

---

### 电磁波

　　下面我们来看非导引型传输媒体，也就是自由空间，[‍]()​[‍]()我们可以利用电磁波在自由空间的传播来传送数据信息，这是电磁波的频谱[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211145233-4raol4m.png)

　　‍

---

　　‍

　　这段频率范围不用于电信领域，而这一段频率范围的电磁波很难产生和调制，[‍]()​[‍]()由于频率非常高，波长就非常短，因此穿透障碍物的能力就非常弱，更为严重的是[‍]()​[‍]()该频段的电磁波对生物是有害的，因此人们很难利用该频率范围的电磁波进行数据传输，[‍]()​[‍]()这段频率范围的电磁波可以通过调制波的振幅、频率或相位来传输信息，

　　![image.png](https://image.peterjxl.com/blog/image-20211211145310-cwnbmlv.png)

　　‍

　　[‍]()​[‍]()这是国际电信联盟ITU对电磁波频段的划分，

　　![image.png](https://image.peterjxl.com/blog/image-20211211145322-z84pxqk.png)

　　从极低频到甚低频，[‍]()​[‍]()也就是从极长波到甚长波，这些频段并不用于电信领域

　　‍

　　‍

　　从低频到甚高频，[‍]()​[‍]()也就是从长波到米波，这些频段的电磁波[‍]()​[‍]()又称为无线电波，用于国际广播，海事和航空通讯，电台广播、电视广播等，

　　![image.png](https://image.peterjxl.com/blog/image-20211211145426-8souk1l.png)

　　[‍]()​[‍]()从特高频到极高频，也就是从分米波到毫米波，这些频段的电磁波又称为微波，[‍]()​[‍]()用于无线电话，无线网络，雷达，人造卫星接收，射电天文、人体扫描等[‍]()​[‍]()。

　　无线电波中的低频和中频频段，主要利用地面波进行传输，[‍]()​[‍]()而高频和甚高频频段主要是靠电离层的反射，

　　![image.png](https://image.peterjxl.com/blog/image-20211211145521-6n0e96i.png)

　　‍

　　‍

　　‍

　　微波通信在数据通信中占有重要地位，[‍]()​[‍]()频率范围为300兆赫兹到300g赫兹，也就是波长一米到一毫米，[‍]()​[‍]()但主要使用2\~40级赫兹的频率范围。[‍]()​[‍]()微波在空间主要是直线传播，[‍]()​[‍]()由于微波会穿透电离层而进入宇宙空间，因此[‍]()​[‍]()它不能经过电离层的反射传播到地面上很远的地方。传统的微波通信主要有两种方式，[‍]()​[‍]()一种是地面微波接力通信，另一种是卫星通信。

　　由于微波在空间是直线传播的，[‍]()​[‍]()而地球表面是个曲面，[‍]()​[‍]()因此其传播距离受到限制，一般只有50公里左右，但若采用100米高的天线塔，[‍]()​[‍]()则传播距离可增大到100公里。[‍]()​[‍]()为实现远距离通信，必须在一条微波通信信道的两个终端之间[‍]()​[‍]()建立若干个中继站，中继站把前一站送来的信号经过放大后，再发送到下一站。故称为接力，

　　[‍]()​[‍]()常用的卫星通信方法是在地球站之间，利用位于约36,000公里高空的人造同步地球卫星，[‍]()​[‍]()作为中继器的一种微波接力通信。其最大特点是[‍]()​[‍]()通信距离远，相应的传播时延也比较大，一般在250~300毫秒之间。[‍]()​[‍]()除同步卫星外，[‍]()​[‍]()低轨道卫星通信系统已开始在空间部署，并构成了空间高速链路，

　　![image.png](https://image.peterjxl.com/blog/image-20211211145658-n0duzhq.png)

　　‍

　　‍

　　‍

### 红外线

　　利用红外线来传输数据，[‍]()​[‍]()相信大家并不陌生，很多家用电器，例如电视空调等都配套有红外遥控器，[‍]()​[‍]()以前的笔记本电脑基本都带有红外接口，可以进行红外通信

　　红外通信属于点对点无线传输，[‍]()​[‍]()中间不能有障碍物，传输距离短，传输速率也很低。现在笔记本电脑已经取消了红外接口，[‍]()​[‍]()但很多智能手机还带有红外接口，以方便用户对电视空调等家用电器进行红外遥控。[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211145814-326biu6.png)

　　‍

### 可见光

　　接下来我们来看一个有关利用可见光通信的科普小短片。

> [‍]()​[‍]()互联网时代,宅男宅女们最大的梦想就是世界上任何一个角落都遍布着WiFi，要是再有电源，那这一辈子都值了，人们已经习惯了有WiFi的日子，可是现在告诉你有一种比WiFi[‍]()​[‍]()更高大上的LIFI出现了，你知道吗？LIFI就是传说中的可见光通信，通俗的来说就是LED灯上LIFI。最新的OLEDCOMMON LIFI技术，以每秒开关千万次LE灯来调制光信号，[‍]()​[‍]()上网和数据传输完全不在话下，完全不用担心眼睛被晃瞎，人的肉眼绝对是分辨不出来的。

　　好了，[‍]()​[‍]()大家觉得LIFI能够取代WiFi吗？短时期内应该是无法取代的，想想看[‍]()​[‍]()如果两个房间内的网络设备要基于LIFI通信，[‍]()​[‍]()如何做到可见光的同步，目前LIFI还处于实验研究阶段，但其应用前景被很多人看好。[‍]()​[‍]()

　　‍

　　最后还要提醒大家注意，要使用某一段无线电频谱进行通信，通常必须得到本国政府[‍]()​[‍]()有关无线电频谱管理机构的许可证。

　　[‍]()​[‍]()我国的无线电频谱管理机构是工信部无线电管理局，[‍]()​[‍]()美国的无线电频谱管理机构，是联邦通讯委员会FCC，

　　也有一些无线电频段是可以自由使用的，[‍]()​[‍]()成为ISM频段，[‍]()​[‍]()也就是工业科学医疗频段，这是美国的ISM频段，现在的无线局域网[‍]()​[‍]()就使用其中的2.4G赫兹和5.8g赫兹频段，各国的ISM标准可能略有不同。

　　在本节课中，我们介绍了物理层下面的传输媒体，[‍]()​[‍]()这部分内容不是重点和难点，只要求同学们了解即可

　　![image.png](https://image.peterjxl.com/blog/image-20211211150124-j02huks.png)

　　‍

## 2.3 传输方式

　　本节课我们介绍几种传输方式，[‍]()​[‍]()他们是：

* 串行传输和并行传输
* 同步传输和异步传输
* 单工，半双工[‍]()​[‍]()以及全双工通信

　　![image.png](https://image.peterjxl.com/blog/image-20211211150255-yg8h7wz.png)

　　‍

### 串行

　　我们首先来看串行传输和并行传输，串行传输是指[‍]()​[‍]()数据是一个比特依次发送的，因此在发送端和接收端之间[‍]()​[‍]()只需要一条数据传输线路即可。

　　[‍]()并行传输是指[‍]()​[‍]()一次发送n个比特，而不是一个比特。为此在发送端和接收端之间[‍]()​[‍]()需要有n条传输线路，

　　并行传输的优点是速度为串行传输的n倍，但也存在一个严重的缺点，[‍]()​[‍]()即成本高。

　　![image.png](https://image.peterjxl.com/blog/image-20211211150414-kjs5xel.png)

　　‍

　　请同学们思考一下，在计算机网络中，数据在传输线路上的传输[‍]()​[‍]()采用的是串行传输还是并行传输？[‍]()​[‍]()答案是串行传输。

　　计算机内部的数据传输常采用并行传输方式，[‍]()​[‍]()例如CPU与内存之间通过总线进行数据传输，常见的数据总线宽度有8位、[‍]()​[‍]()16位、32位和64位。

　　‍

　　‍

### 同步传输和异步传输

　　再来看同步传输和异步传输，采用同步传输方式，[‍]()​[‍]()数据块以稳定的比特流的形式传输，字节之间没有间隔，[‍]()​[‍]()接收端在每个比特信号的中间时刻进行检测，以判别接收到的是比特0还是比特1。[‍]()​[‍]()由于不同设备的时钟频率存在一定差异，不可能做到完全相同，[‍]()​[‍]()在传输大量数据的过程中，所产生的判别时刻的累积误差，会导致接收端[‍]()​[‍]()对比特信号的判别错位。

　　![image.png](https://image.peterjxl.com/blog/image-20211211150619-6qr4uqq.png)

　　‍

　　因此需要采取方法是收发双方的时装保持同步，[‍]()​[‍]()实现收发双方时钟同步的方法主要有两种，

* 一种是外同步，也就是在收发双方之间[‍]()​[‍]()添加一条单独的时钟信号线，发送端在发送数据信号的同时，另外发送一路时钟同步信号，[‍]()​[‍]()接收端按照时钟同步信号的节奏来接收数据。
* 另一种是内同步，[‍]()​[‍]()也就是发送端将时钟同步信号编码到发送数据中一起传输。[‍]()​[‍]()例如[‍]()​[‍]()传统以太网所采用的就是曼彻斯特编码，这部分内容我们将在下节课详细讨论，[‍]()​[‍]()

　　采用异步传输方式时，以字节为独立的传输单位，字节之间的时间间隔不是固定的，[‍]()​[‍]()接收端仅在每个字节的起始处对字节内的比特实现同步。**为此通常要在每个字节前后‍‍分别加上起始位和结束位，****这里异步是指字节之间异步，‍‍也就是字节之间的时间间隔不固定，****但字节中的每个比特仍然要同步，‍‍也就是个比特的持续时间是相同的。**​[‍]()​[‍]()

　　‍

### 单工，半双工[‍]()​[‍]()以及全双工通信

　　再来看单工，半双工和全双工通信

* 单工通信又称为单向通信，[‍]()​[‍]()通信双方只有一个数据传输方向，比如无线电广播采用的就是这种通信方式
* 半双工[‍]()​[‍]()又称为双向交替通信，通信双方可以相互传输数据，但不能同时进行。[‍]()​[‍]()例如[‍]()​[‍]()对讲机采用的就是这种通信方式
* 全双工通信又称为双向同时通信，双方[‍]()​[‍]()可以同时发送和接收信息，例如电话采用的就是这种通信方式，
* 单向通信只需要一条信道，[‍]()​[‍]()而双向交替通信或双向同时通信则都需要两条信道，每个方向各一条，[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211150756-pu4ujyh.png)

　　‍

　　本节课的内容比较容易理解，重点是弄清楚同步传输中的同步，[‍]()​[‍]()异步传输中的异步，它们各自的含义是什么？[‍]()

　　[‍]()

　　‍

## 2.4 编码与调制

　　本节课我们介绍编码与调制，[‍]()​[‍]()​**在计算机网络中计算机需要处理和传输用户的文字、图片、音频和视频，‍‍他们可以统称为消息。**

　　**数据是运送消息的实体**，我们人类比较熟悉的是十进制数据，[‍]()​[‍]()而计算机只能处理二进制数据，也就是比特0和比特1，计算机中的网卡[‍]()​[‍]()将比特0和比特1[‍]()​[‍]()变换成相应的电信号，发送到网线，**也就是说信号是数据的电磁表现**，[‍]()​[‍]()由信源发出的原始电信号称为基带信号。此时的信号还没靖国编码与调制。

　　基带信号又可分为两类

* 一类是数字基带信号，[‍]()​[‍]()例如计算机内部CPU与内存之间传输的信号
* 另一类是模拟基带信号，例如[‍]()​[‍]()麦克风收到声音后产生的音频信号，

　　‍

　　信号需要在信道中进行传输，信道可分为数字信道[‍]()​[‍]()和模拟信道两种。对于数字基带信号在两种信道上传输：

* 在不改变信号性质的前提下，**仅对数字基带信号的波形进行变换，‍‍称为编码**。编码后产生的信号仍为数字信号，可以在数字信道中传输，例如[‍]()​[‍]()以太网使用曼彻斯特编码，4B/5B、8B/10B等编码
* 把数字基带信号的频率范围[‍]()​[‍]()搬移到较高的频段，**并转换为模拟信号，称为调制**。调制后产生的信号是模拟信号，[‍]()​[‍]()可以在模拟信道中传输。[‍]()​[‍]()例如WiFi使用补码键控，直接序列扩频，[‍]()​[‍]()正交评分复用等调制方法。

　　对于模拟基带信号在两种信道上传输：对于模拟基带信号的处理，也有编码和调制两种方法

* [‍]()​[‍]()对模拟基带信号进行编码的典型应用是：对音频信号进行编码的脉码调制PCM。[‍]()​[‍]()也就是将模拟音频信号通过采样，量化，编码这三个步骤进行数字化[‍]()​[‍]()
* 对模拟信号进行调制的典型应用是将语音数据加载到模拟的载波信号中传输，[‍]()​[‍]()例如传统的电话，另一个是频分复用FDM技术，[‍]()​[‍]()可以充分利用带宽资源。
* 调制方法有：例如WIFI，采用补码键控CCK/直接序列扩频DSSS/正交频分服用OFDM等

　　![image.png](https://image.peterjxl.com/blog/image-20211211152342-c18vb5m.png)

　　‍

　　接下来我们介绍码元的概念：在使用时间域的波形表示数字信号时，[‍]()​[‍]()代表不同离散数值的基本波形成为码元。简单来说码元就是构成信号的一段波形，例如[‍]()​[‍]()这是一个调频信号，这一段波形是构成该信号的一个基本波形，我们可称其为码元，[‍]()​[‍]()它可以表示比特0，当然也可以表示比特1，这一段波形是构成该信号的另一个基本模型，[‍]()​[‍]()也称为码元。它可以表示比特1，可见该信号由两种码元构成。[‍]()​[‍]()

　　‍

　　‍

　　顺便提一下传输媒体与信道的关系：严格来说，传输媒体和信道不能直接划等号，[‍]()​[‍]()对于单工传输，传输媒体中只包含一个信道，要么是发送信道，要么是接收信道。[‍]()​[‍]()而对于半双工和全双工传输，传输媒体中要包含两个信道，一个是发送信道，[‍]()​[‍]()另一个是接收信道。[‍]()​[‍]()如果使用信道复用技术，[‍]()​[‍]()一条传输媒体还可以包含多个信道，在计算机网络中常见的是将数字基带信号通过编码[‍]()​[‍]()或调制的方法在相应信道进行传输。

### 常用编码

　　 ![image.png](https://image.peterjxl.com/blog/image-20211212095918-kiezyxf.png)

　　‍

　　‍

### 不归零编码

　　下面我们介绍几种常用编码，[‍]()​[‍]()这是待传输的比特流，这是采用不归零编码产生的该比特流的相应信号。[‍]()​[‍]()正电平表示比特1，负电平表示比特0，这是0电平，所谓不归零[‍]()​[‍]()就是指在整个码元时间内电瓶不会出现零电平，例如[‍]()​[‍]()该码元在其时间内全部是正电平，而该码元在其时间内全部是负点平。[‍]()​[‍]()

　　请大家思考一下[‍]()​[‍]()接收端如何判断出这是两个码元，而这是三个码元？[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211152742-9h4nqp5.png)

　　这需要发送方的发送与接收方的接收做到严格的同步，这就需要额外一根传输线[‍]()​[‍]()来传输时钟信号，接收方按时钟信号的节拍来逐个接收码元。**然而对于计算机网络‍‍宁愿利用传输线来传输数据信号，而不是要传输时钟信号**！

### 归零编码

　　因此[‍]()​[‍]()由于不归零编码存在同步问题，[‍]()​[‍]()计算机网络中的数据传输不采用这类编码，这是归零编码，这是正电平，这是零电平，[‍]()​[‍]()这是负电平。

　　![image.png](https://image.peterjxl.com/blog/image-20211211152855-3p42j45.png)

　　‍

　　‍

　　很明显，每个码元传输结束后信号都要归零，[‍]()​[‍]()所以接收方只要在信号归0后进行采样即可，不需要单独的时钟信号。[‍]()​[‍]()实际上[‍]()​[‍]()归零编码相当于把时钟信号用归零方式编码在了数据之内，这称为自同步信号，但是[‍]()​[‍]()归零编码中大部分的数据带宽[‍]()​[‍]()都用来传输归零而浪费掉了。

　　也就是说归零编码的优点是自同步，但缺点是编码效率低[‍]()​[‍]()

### 曼彻斯特编码

　　这是曼彻斯特编码。如图所示，在每个马原时间的中间时刻，信号都会发生跳变，比如[‍]()​[‍]()负跳变表示比特1，正跳变表示比特0，码元中间时刻的跳变，既表示时钟，[‍]()​[‍]()要表示数据，传统以太网使用的就是曼彻斯特编码

　　![image.png](https://image.peterjxl.com/blog/image-20211211153004-uso51qg.png)

　　‍

　　‍

### 差分曼彻斯特编码

　　这是差分曼彻斯特编码，[‍]()​[‍]()如图所示在每个马原时间的中间时刻，信号都会发生跳变，与曼彻斯特编码不同，[‍]()​[‍]()跳变仅表示时钟，而用马原开始处电瓶是否发生变化来表示数据。[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211153043-ogq97un.png)

　　‍

　　如图所示，[‍]()​[‍]()这是每个码元的开始处，这是每个码元的结束处。[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211153100-38cy5yw.png)

　　‍

　　依据码元开始处电平是否发生变化[‍]()​[‍]()来表示比特0或比特1。

　　差分曼彻斯特编码比 曼彻斯特编码变化少，更适合较高的传输速率

　　‍

　　‍

　　接下来我们做一个有关编码的练习题，[‍]()​[‍]()这是计算机专业考研全国统考计算机网络部分，2013年的题34，[‍]()​[‍]()我们一起来解题，[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211153248-ehwd8s6.png)

　　10BaseT中的10表示带宽为10兆比特每秒，base表示基带传输，[‍]()​[‍]()T表示双脚线，这种以太网使用曼彻斯特编码，根据曼彻斯特编码的特点，[‍]()​[‍]()也就是每个码元在其中间时刻发生跳变，可以划分出所给信号中的各码元。[‍]()​[‍]()至于正跳变表示1还是0，负跳变表示0还是1，没有具体规定，可以自行假设。

　　‍

　　我们假设正跳变表示1，负跳变表示0，那么该码元表示1，该码元表示一，[‍]()​[‍]()该码元表示0，该码元表示0，该码元表示1，至此可以发现没有一个答案是符合的，[‍]()​[‍]()那说明我们的假设有错误

　　![image.png](https://image.peterjxl.com/blog/image-20211211153404-3bkb0nl.png)

　　‍

　　那么应该是正跳变表示0，负跳变表示1，[‍]()​[‍]()写出各码元所表示的比特，现在可以看出正确答案是a

　　‍

### 基本调制

　　下面[‍]()​[‍]()我们介绍基本调制方法，这是待传输的数字基带信号，也就是来自信源的原始数字信号，[‍]()​[‍]()我们要使用模拟信道来传输，因此需要将数字基带信号通过调制方法[‍]()​[‍]()，调制成可以在模拟信道中传输的模拟信号

* 这是调幅所产生的模拟信号，[‍]()​[‍]()无载波输出表示比特0，有载波输出表示比特1
* 这是调频所产生的模拟信号。[‍]()​[‍]()频率f一的波形表示比特0，频率f2的波形表示比特1，
* 这是调相所产生的模拟信号。[‍]()​[‍]()初向位0度的波形表示比特0，初向位180度的波形表示比特1。

　　![image.png](https://image.peterjxl.com/blog/image-20211211153556-rq7j842.png)

　　‍

　　‍

### 混合调制

　　很明显[‍]()​[‍]()使用基本调制方法，一个码元只能表示或者说包含一个比特信息，[‍]()​[‍]()那么如何能使一个码元包含更多的比特？

　　可以采用混合调制的方法？[‍]()​[‍]()因为频率和相位是相关的，也就是说频率是相位随时间的变化率，所以[‍]()​[‍]()一次只能调至频率和相位两个中的一个

　　通常情况下，[‍]()​[‍]()相位和振幅可以结合起来一起调制，称为正交振幅调制QAM[‍]()​[‍]()。

　　我们来看属于正交振幅调制的qm16，这种调制方法所调制出的波形可以有12种相位，[‍]()​[‍]()每种相位有一或两种振幅可选。[‍]()​[‍]()我们可在星座图中[‍]()​[‍]()画出该调制方法所产生的码元，该点就要表示其中的一个码元，它与圆心连线的距离[‍]()​[‍]()可看作是振幅，连线与横坐标的夹角，可看作是相位

　　![image.png](https://image.peterjxl.com/blog/image-20211211153938-j73rna5.png)

　　‍

　　‍

　　这是QAM16[‍]()​[‍]()可调制出的16种码元。请大家思考一下，每个码元可以包含几个比特？由于qm16[‍]()​[‍]()可以调制出16种码元，也就是16种波形，则每种码元可以对应表示4个比特，

　　![image.png](https://image.peterjxl.com/blog/image-20211211154000-wauy40x.png)

　　‍

　　‍

　　‍

　　那么[‍]()​[‍]()每个码元与4个比特的对应关系可以随便定义吗？如图所示，[‍]()​[‍]()这是我们随便定义的，每个码元所对应的4个比特，

　　‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211154037-7ku90cc.png)

　　‍

　　‍

　　假设ABCD[‍]()​[‍]()是接收端接收到的5个码元，这5个码元原本都是表示4个比特0的，由于传输过程中产生失真，[‍]()​[‍]()导致他们在星座图中并未落在理想的位置，接收端会将码元ABC解调为0000，[‍]()​[‍]()这是正确的。[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211154142-pz2hxvq.png)

　　将码元D调为0001有一个错位，将码元E写条为1111，[‍]()​[‍]()4位全错，[‍]()​[‍]()这就说明每个码元与4个比特的对应关系不能随便定义。

　　每个码元与4个比特的对应关系[‍]()​[‍]()应该采用格雷玛，也就是任意两个相邻码源，只有一个比特不同，如图所示，[‍]()​[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211154215-fv1aqqy.png)

　　‍

　　‍

### 总结

　　本节课到这里就结束了。[‍]()​[‍]()在本节课中我们介绍了数据通信中有关编码、调制[‍]()​[‍]()以及码源的概念，不归零编码，归零编码、曼彻斯特编码、[‍]()​[‍]()差分、曼彻斯特编码等常用编码，条幅、调频调向这三种基本调制方法[‍]()​[‍]()以及混合调制。[‍]()​[‍]()对于没有学习过通信原理这门课程的同学，本节课的内容稍有难度，[‍]()​[‍]()但还是请大家认真搞懂本节课的内容。因为物理层的主要任务就是解决比特0和1[‍]()​[‍]()在线路上传输的问题，而本节课的内容就是其相关的理论基础。[‍]()

　　![image.png](https://image.peterjxl.com/blog/image-20211211154242-4tbahuv.png)

　　‍

## 2.5 信道的极限容量

　　本节课我们介绍信道极限容量的有关问题，‍‍我们都知道信号在传输过程中会受到各种因素的影响，如图所示这是一个数字信号，‍‍当它通过实际的信道后，波形会产生失真，当失真不严重时，在输出端‍‍还可根据以失真的波形还原出发送的码元，但当失真严重时，在输出端‍‍就很难判断这个信号‍‍在什么时候是1和在什么时候是0。信号波形失去了码元之间的清晰界限，‍‍这种现象叫做码间串扰。‍‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211155741-n7zwc00.png)

　　‍

　　产生失真的原因主要有码元传输速率、信号传输距离、‍‍噪声干扰，传输媒体质量等。

　　‍

### 奈氏准则

　　早在1924年，奈奎斯特就推导出了著名的奈氏准则，‍‍他给出了在假定的理想条件下，为了避免码间串扰，码元传输速率的上限。

　　理想低通信道的最高码元传输率等于2w波特，理想带通信道的最高，码元传输速率等于w波特，‍‍这里的w是信道带宽，单位为赫兹，单词baud的意思是波特，也就是码元每秒。‍‍因此上述公式可进一步写为二w码元每秒和w码元每秒，‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211160104-oeyjm7f.png)

　　‍

　　码元传输速率又称为波特率，调制速率，波形速率‍‍或符号速率，它与比特率有一定的关系。‍‍

　　当一个码元只携带一比特的信息量时，波特率，‍‍也就是单位为码元每秒与比特率也就是单位为比特每秒，在数值上是相等的。‍‍

　　当一个码元携带n比特的信息量时，则波特率转换成比特率时，数值要乘以n‍‍

　　‍

　　要提高信息的传输速率，就必须设法使每一个码元能够携带更多个比特的信息量，‍‍这需要采用多元制。‍‍

　　还记得我们上节课中介绍的调幅、调频以及调向这三种基本调制方法吗？‍‍它们属于二元调制，只能产生两种不同的码元，也就是两种不同的基本波形。‍‍因此‍‍每个码元只能携带一比特的信息量。

　　而混合调制属于多元调制。例如‍‍ qam16可以调制出16种不同的码元，因此每个码元可以携带4比特的信息量。

　　‍

　　需要说明的是‍‍实际的信道所能传输的最高码元速率要明显低于奈式准则给出的上限值，‍‍这是因为奈式准则是在假定的理想条件下推导出来的，他不考虑其他因素，例如传输距离、‍‍噪声干扰，传输媒体质量等。

　　仅从公式来看，只要采用更好的调制方法，‍‍让码元可以携带更多的比特，岂不是可以无限制的提高信息的传输速率吗？答案是否定的，‍‍信道的极限信息传输速率还要受限于实际的信号，在信道中传输时的信噪比，‍‍因为信道中的噪声也会影响接收端对码元的识别，并且噪声功率相对信号功率越大，‍‍影响就越大。‍‍

### 香农公式

　　1948年香农用信息论的理论推导出了带宽受限，‍‍且有高斯白噪声干扰的信道的极限信息传输速率，具体公式如下所示。其中‍‍ c是信道的极限信息传输速率，单位是比特每秒，w是信道带宽，单位为赫兹，‍‍s是信道内所传送信号的平均功率，n是信道内的高斯噪声功率，s比n是信噪比‍‍使用分贝作为度量单位如下所示。‍‍

　　‍

　　从香农公式可以看出，信道带宽或信道中信噪比越大，信息的极限传输速率就越大。

　　需要说明的是在实际信道上能够达到的信息传输速率，要比该公式的极限传输速率低不少，‍‍这是因为在实际信道中信号还要受到其他一些损伤，例如各种脉冲干扰，‍‍信号在传输中的衰减和失真等，这些因素在香农公式中并未考虑。‍‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211160450-4an7pmp.png)

　　‍

　　综合来看奈式准则和香农公式。在信道带宽一定的情况下，要想提高信息的传输速率，‍‍就必须采用多元制，‍‍并努力提高信道中的信噪比。

　　自从香农公式发表以后，各种新的信号处理和调制方法‍‍就要不断出现，其目的都是为了尽可能的接近香农公式所给出的传输速率极限。‍‍

　　‍

　　‍

### 习题

　　接下来‍‍我们来做几个与这两个公式有关的练习题。这是计算机专业考研全国统考计算机网络部分‍‍2014年的题35，答案是d。从香农公式可知，信噪比和频率带宽都会影响信道数据传输速率。‍‍从奈式准则可知，‍‍调制速度也就是码元传输速度和码元所携带的比特数量，都会影响信道数据传输速率，‍‍而信号的传播速度不影响数据传输速率。‍‍我们在之前的课程中‍‍曾建议同学们记住电磁波在不同传输媒体的传播速率，不知大家是否还记得。‍‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211160724-vssaolk.png)

---

　　‍

　　来看2009年的题34，在无噪声的情况下，若某通信链路带宽为3000赫兹，‍‍采用4个相位，每个相位具有4种振幅的QAM调制技术，‍‍则该通信链路的最大数据全速率是多少？我们一起来做这道题，

　　一根据内饰准则可知，‍‍该通信链路的最高码元传送率=2×3k=6k波特，也就是6k码元每秒。‍‍

　　二采用4个相位，每个相位4种振幅的qam调制技术，可以调制出16个不同的基本模型，‍‍也就是16个不同的码元，采用二进制对这16个不同的码源进行编码，‍‍需要使用4个比特。‍‍换句话说，每个码元可以携带的信息量为4比特，

　　综合1和2可知，‍‍该通信链路的最大数据传送率等于6k码元每秒×4比特每码元‍‍=等于24k比特每秒，也就是24kbps

　　![image.png](https://image.peterjxl.com/blog/image-20211211160902-sg64m7c.png)

　　‍

　　因此本题的正确答案是选项b‍‍。实际上对于这种类型的题目，不管题目给出的调制技术多么牛，或者对于我们而言多么陌生，‍‍这都不会影响我们解题。‍‍我们只需关心这种调制技术，可以调制出多少个不同的基本波形即可。

　　‍

　　‍

　　‍

---

　　‍

　　来看2011年的题目34，‍‍答案是选项b   我们来看解题过程，

　　一，采用四相位调制，可以调制出4种相位不同的基本波型，‍‍采用二进制对这4种不同的波形进行编码，需要使用两个比特。换句话说，‍‍每个码元可以携带的信息量为两个比特。‍‍

　　二，数据传送速率等于波特率，也就是码元传输速率      乘以‍‍       每个码元所携带的信息量。带入本题的相关数值，也就是2400比特每秒，等于波特率‍‍乘以2比特美码元，解得波特率等于1200马元每秒，也就是1200波特。‍‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211161135-1el76r2.png)

　　‍

　　‍

　　再来看2016年的题34，若连接r2和r3链路的频率带宽为8000赫兹，‍‍性噪比为30分贝，该链路实际数据传输速率约为理论最大数据传输速率的50%，‍‍则该链路的实际数据传输速率约是多少？

　　根据香农公式可知，‍‍本题中的理论最大数据传送率为8000赫兹，乘以log以2为底，1+信噪比的对数，‍‍信噪比采用分贝表示，题目所给信噪比为30分贝，可计算出信噪比为1000，代入上式，‍‍可计算出结果约等于80kbps。根据提议，‍‍该链路的实际数据传输率是理论值的50%，计算结果为40kbps‍‍因此选项c正确。‍‍

　　![image.png](https://image.peterjxl.com/blog/image-20211211161245-vzwhnde.png)

　　‍

　　再来看2017年的题35，答案是选项d

　　‍

　　‍

　　设信号状态数，‍‍也就是可调制出的不同基本波形或码元数量为x，则每个码元可携带的比特数量为‍‍ log以2为底x的对数。‍‍信道在无噪声情况下的极限数据传输速率，用奈式准则来计算，‍‍等于2w码元每秒，等于2w log以2为底x的对数比特每秒。‍‍信道在无噪声情况下的极限数据传输速率，用香农公式来计算，等于‍‍ w乘以log以2为底，1+1000的对数，单位为比特每秒，其中的1000‍‍是30分贝信噪比换算出来的比值，根据题意列出不等式，解得‍‍ x大于等于32。

　　![image.png](https://image.peterjxl.com/blog/image-20211211161417-bv94ont.png)

　　‍

　　本节课到这里就结束了。‍‍在本节课中，我们介绍了与信道极限容量相关的两个公式，一个是奈式准则，‍‍另一个是香农公式。他们为提高信息传输速率提供了理论依据，希望同学们能够掌握‍‍并利用这两个公式进行一些简单的相关计算。

　　‍

　　‍

　　‍

## 物理层习题

　　‍

　　‍

　　‍

　　![image.png](https://image.peterjxl.com/blog/image-20211212095822-lwmpda0.png)

　　‍

　　![image.png](https://image.peterjxl.com/blog/image-20211212100911-wd84er5.png)

　　‍
