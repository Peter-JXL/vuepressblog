---
title: Unicode怎么存储字符
date: 2022-12-11 16:07:54
permalink: /literacy/character-encoding-unicode/
categories:
  - 计算机基础
  - 计算机小知识
tags:
  - 
---
# 04.Unicode怎么存储字符

![](https://image.peterjxl.com//blog/07.aimen.jpg)

　　我们先介绍下多个字节的数据，在内存中如何存储，也就是大端和小端的概念，这个非常重要。读者请先看看阮一峰老师的博客：[字节序探析：大端与小端的比较 - 阮一峰的网络日志](https://www.ruanyifeng.com/blog/2022/06/endianness-analysis.html)，讲的非常透彻。

　　接下来我们简单讲讲，Unicode的原理。

　　本文主要参考了 笨笨阿林写的一系列文章：[刨根究底字符编码之一——关键术语解释(上)](https://www.cnblogs.com/benbenalin/p/6882293.html)，在此基础上，根据自己的理解改写完成。

<!-- more -->

## 怎么存储Unicode

　　然后我们再次重复下，Unicode只是一个符号集，它只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储。 

1. 首先是字节数量的问题。比如，汉字“严”的unicode是十六进制数4E25，转换成二进制数足足有15位（0100 1110 0010 0101），也就是说这个符号的表示至少需要2个字节。表示其他更大的符号，可能需要3个字节或者4个字节，甚至更多。
2. 另外，怎么区分Unicode和ASCII？计算机如何知道3个字节表示一个字符，而不是1个，4个字节表示一个字符？

　　以上问题，导致了Unicode的多种存储方式，也就是有很多不同的二进制格式，来表示同一个Unicode。例如“严”：

|编码|hex|dec (bytes)|dec|binary|
| ----------| -------------| -------------| -----------| -------------------------------------|
|UTF-8|E4 B8 A5|228 184 165|14989477|11100100 10111000 10100101|
|UTF-16BE|4E 25|78 37|20005|01001110 00100101|
|UTF-16LE|25 4E|37 78|9550|00100101 01001110|
|UTF-32BE|00 00 4E 25|0 0 78 37|20005|00000000 00000000 01001110 00100101|
|UTF-32LE|25 4E 00 00|37 78 0 0|625868800|00100101 01001110 00000000 00000000|

　　注：UTF-16BE指的是大端序，UTF-16LE指的是小端序，后续的UTF32同理

　　‍

> 互联网的普及，强烈要求出现一种统一的编码方式。UTF-8 就是在互联网上使用最广的一种 Unicode 的实现方式。UTF-16（字符用两个字节或四个字节表示）和 UTF-32（字符用四个字节表示），不过在互联网上基本不用。

　　‍

　　‍

## UTF8的编码规则

　　UTF-8的编码规则很简单，只有2个：

* 对于一个字节的符号，和ASCII的符号表一样（字节的第一位设为0，后面7位为这个符号的unicode码）
* 对于多字节的符号，那么第一个字节从最高位开始，连续有几个比特位的值为 1，就使用几个字节编码，剩下的字节均以 10 开头。

　　‍

　　举个莉子：

* 0xxxxxxx：单字节编码形式，这和 ASCII 编码完全一样，因此 UTF-8 是兼容 ASCII 的；
* 110xxxxx 10xxxxxx：双字节编码形式（第一个字节有两个连续的 1）；
* 1110xxxx 10xxxxxx 10xxxxxx：三字节编码形式（第一个字节有三个连续的 1）；
* 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx：四字节编码形式（第一个字节有四个连续的 1）

　　‍

## UTF32的编码规则

　　编码方式：始终占用 4 个字节，足以容纳所有的 Unicode 字符，所以直接存储 Unicode 编号即可，不需要任何编码转换。浪费了空间，提高了效率。

　　‍

　　‍

　　‍

　　‍

## 查询Unicode编码

　　如果我们想知道某个字符的Unicode编码，怎么查呢？

　　可以去官网查询：[Unicode – The World Standard for Text and Emoji](https://home.unicode.org/)

　　如果是汉字，可以去看专门的汉字对应表：[字体编辑用中日韩汉字Unicode编码表 - 编著：资深中韩翻译金圣镇 金圣镇](http://www.chi2ko.com/tool/CJK.htm)

　　还有很多其他的网站提供查询，例如：[基本拉丁字母 — ✔️ ❤️ ★ Unicode 字符百科](https://unicode-table.com/cn/)，汉字“严”的搜索结果：[严 - 中日韩象形文字: U+4E25 - Unicode 字符百科](https://unicode-table.com/cn/4E25/)

　　‍

　　‍
