## 总线的概念和结构形态

### 6.1.1 总线的基本概念

分类：内部总线、系统总线、I/O总线

特性

物理特性：总线的连接方式，例如总线的根数，插座的形状

电气特性：每一根线的传递方向和有效电平范围

时间特性：在什么时间有效，只有规定了有效的时序关系，才能正确使用

功能特性：每一根线的功能，如地址总线的宽度，数据总线的宽度 	，控制总线的宽度，能发出的各种控制信号，请求信号，仲裁信号

标准化：从ISA总线。EISA，VESA

衡量性能的重要指标：带宽，能达到的最高传输速率，单位是mb/s。受到驱动器、接收器等影响，达不到。带宽 = 数据量/总线时钟周期

### 总线的连接方式

外部设备不能直接连接CPU的原因：设备种类繁多，速度各异：通过接口（适配器）来连接

单总线结构

多总线结构：CPU与cache连接在高速CPU总线，主存连接在系统总线，通过桥，CPU总线、系统总线和高速总线彼此相连

### 总线的内部结构

早期总线结构，实际上是CPU芯片引脚的延伸，按功能可分为地址线（单向），数据线（双向），控制线（对每一根线来说是单向的，CPU对接口或者接口对CPU）。CPU是唯一的主控者，不满足多CPU，总线结构与CPU紧密相关，通用性

现代总线结构：CPU与它私有的cache作为一个模块与总线相连，允许多个这样的处理器模块

总线可分为

* 数据传送总线：由地址线、数据线、控制线组成，为了减少布线，64位数据的低32位常常与地址线复用
* 仲裁总线：包括总线请求线与总线授权线
* 中断和同步总线：包括中断请求线和中断认可线
* 公用线：包括时钟信号线，电源线，地线等

### 总线结构实例

Pentium，三层次的多总线结构，即CPU总线，PCI总线和ISA总线

CPU总线：链接着cache，主存CPU是主控者，必要时可以不是，可以看成是外部引脚的延伸

PCI总线：用于链接高速I/O设备，通过北桥与CPU总线相连。下面与低速的ISA相连（南桥）

ISA总线：用于与低速的I/O设备相连

## 6.2 总线接口

### 信息传送方式

传输信息采用三种方式：串行传送、并行传送和分时传送。为了效率，总线必须用并行

串行传送：采用位时间，8bit需要8个位时间，某个位时间有脉冲就代表1。成本低廉，只要一根线就能传输

并行传送：采用电位传送

分时传送：总线复用方式，必须划分时间片

### 总线接口的基本概念