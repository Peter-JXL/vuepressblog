## CPU的功能和组成

CPU的基本组成：

* 控制器：程序计数器PC、指令寄存器IR、时序产生器、指令译码器操作控制器
* 运算器

CPU中的主要寄存器：指令寄存器IR、程序计数器PC、数据地址记寄存器AR、缓存寄存器DR、

通用寄存器、状态字寄存器PSW

操作控制器与时序产生器

操作控制器功能：根据指令操作码和时序信号，产生各种操作控制信号，正确选择数据通路

根据设计方法可分为时序逻辑型（硬布线控制器）和存储逻辑型（微程序控制器）

控制器产生的控制信号必须定时 ，因此需要时序产生器

## 指令周期

基本概念

指令周期：取出一条指令并执行这条指令的试卷

一条指令通常由几个CPU周期表示。CPU周期，又称机器周期，时钟周期，从内存读取一个字的最短时间来规定时钟周期。一个CPU周期又包含若干个T周期，通常称为节拍脉冲

mov指令的指令周期

取指周期：从指令取出指令，PC+1,译码测试，PC被装入指令地址，通过指令地址总线，开始读，读出的指令通过指令总线传送到IR，PC+1，译码，识别出是mov指令

执行周期，OC送出信号到reg，选择R0，oc送出信号到alu，指定做传送工作，oc送出控制信号，打开alu输出三态门，将输出送到数据总线。oc送出控制信号，将DBUS的数据打入到DR，oc送出控制信号，将DR的数据打入到R0

LAD指令周期。三个周期，一次访问指存，一次数存

执行周期：打开IR输出三态门，将指令中的直接地址码放到数据总线DBUS，将地址码装入地址寄存器AR，读数存，将数据读出到DBUS。将数据装入DR。oc送出控制信号，将DR的数据打入到R0

add指令周期

执行周期，OC送出信号到reg，选择R0，oc送出信号到alu，指定做加法工作，oc送出控制信号，打开alu输出三态门，将输出送到数据总线。oc送出控制信号，将DBUS的数据打入到DR，进位信号放到psw，oc送出控制信号，将DR的数据打入到R0

sto指令：执行周期

OC送出信号到reg，选择R0作为数存的地址单元，打开记清楚输出三态门（不经过alu节省时间），将数据放到dbus，将地址码装入地址寄存器AR，对数存地址译码，选择R2作为数存写入的数据

打开寄存器输出三态门，将数据放到dbus，将数据写入数存

jmp指令的周期

打开IR输出三态门，将指令中的直接地址码放到数据总线DBUS。将地址码装入PC

用方框图来表示指令周期

## 时序产生器和控制方式

时序信号的作用和体制：操作控制器的各种控制信号都是时间因素（时序信号）和空间因素（部件位置）的函数。微程序控制器中，比采用节拍电位-节拍脉冲二级体制，节拍电位=一个CPU周期

时序信号产生器

时钟源：为环形脉冲发生器提供频率稳定且电平匹配的方波时钟脉冲信号

环形脉冲发生器：产生一组有序的间隔相等或不等的脉冲序列，以便通过译码电路来产生最后所需的节拍脉冲

节拍脉冲和存储器读/时序

控制方式

每条指令和每个操作控制信号所需的时间各不相同

控制不同操作序列时序 信号的方法，称为oc的控制方式